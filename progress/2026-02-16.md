# 2026-02-16 — Arctic API Findings from Email Thread

## What happened
Morgan from Arctic support responded to our questions about API capabilities. Lauren also clarified that guide features are out of scope. Several assumptions in our docs were wrong or incomplete.

## Key findings

### Access levels corrected
- "Read-only with Financial Data" is **strictly read-only** — no write access on any endpoint. Our docs previously claimed it allowed read/write on persons, reservations, tasks, and inquiries. This was wrong.
- At least **User level** access is required for any write operations.
- **Decision: Use User level access** for the `hre-website` API client.

### Booking flow revised
- API **cannot process payments** and **cannot write activities**.
- Two checkout options: (1) cart + handoff, (2) direct handoff via iframe.
- **Decision: Cart + handoff** — use API to add items to cart, then send guest to Arctic to complete checkout in a popup/new window styled via Custom HTML Header.

### Guide info removed from scope
- Lauren confirmed Holiday doesn't use Arctic's guide system. Tim Gaylord would need to buy in first.
- Guide/schedule endpoints available for future use but not part of current build.

### Sandbox / testing resolved
- No sandbox available. Secondary dev installation costs $489/mo — not worth it.
- Arctic recommends using a "test" trip.
- **Our approach:** Mock Arctic responses in tests, optionally use a test trip for manual/integration testing.

### Activities
- `activity` endpoint is read-only even at higher access levels. Activities managed in Arctic dashboard only.

### Payment processing resolved
- Arctic does not handle payment via API. Checkout must hand off to Arctic. No Stripe needed.

## Docs updated
- `docs/project/arctic-api.md` — access levels, booking flow, guide scope, sandbox, activities, action items
- `docs/project/open-decisions.md` — payment processing marked resolved
- `docs/project/build-phases.md` — Phase 3 updated (User level access, hybrid booking approach)
- `docs/reference/arctic-api-endpoints.md` — corrected access scope tables, added User column, noted activity read-only
- `docs/project/arctic-api.md` — clarified that "User level" access is an API client permission tier, not a guest account requirement

## What's next
- Create API client in Arctic admin with User level access
- Test public API endpoints for TypeScript type generation
- Build typed API client in `src/lib/arctic/`

---

## Site Audit & Page Plan

### What happened
Conducted a full browser walkthrough of bikeraft.com to inventory every page, feature, and content type. Created documentation with links to all 108 pages + 167 blog posts on the current site, plus a proposed page/feature plan for the new site.

### Docs created/updated
- `docs/project/site-audit.md` — Complete inventory of bikeraft.com (108 pages, 167 blog posts, 5 blog categories), organized by page type with live links to every page
- `docs/project/page-plan.md` — Proposed page structure for the new site, phased by priority, with suggested nav simplification and new features. Framed as proposals needing Holiday sign-off.
- `docs/project/open-decisions.md` — Added 8 new open questions needing Holiday input (nav structure, trip finder priority, blog migration scope, Spanish content, policy page timing, catalog requests, homepage featured trips, Getting Here pages)
- `docs/project/architecture.md` — Expanded routes to reflect the full page plan, organized by build phase

### Key numbers from the audit
- **108 pages** on bikeraft.com (trips, categories, about, utility, pre-trip logistics)
- **167 blog posts** across 5 categories
- **93 unique internal links** from homepage alone

### Decisions deferred to Holiday
All page structure, nav changes, and phase assignments are proposals — nothing finalized without Holiday's input. See `open-decisions.md` for the full list of questions.
