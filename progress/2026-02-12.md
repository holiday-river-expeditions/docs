# Progress — 2026-02-12

## Summary

Resolved CI failures across all branches and cleaned up project tooling and documentation. All three branches (`develop`, `beta`, `main`) are now in sync with passing CI.

## What was accomplished

### CI fixes
- Fixed pnpm version specification in `package.json` so GitHub Actions installs the correct version (`dff9bd5`)
- Fixed Prettier formatting in `CLAUDE.md` that was failing `format:check` (`ba93c93`)

### Developer tooling
- Added VS Code workspace configuration (`439c8f1`)
- Added pre-commit hook with husky + lint-staged to enforce formatting on staged files (`5e2145b`)
- Added `.claude` to `.prettierignore` (`c54165b`)

### Project scaffolding cleanup
- Cleaned up Next.js boilerplate and added project-specific placeholders (`6f9f7f6`)
- Fixed E2E test to match updated page title (`a73aff1`)
- Fleshed out README with setup instructions, scripts, and project overview (`ab59f81`)

### Documentation
- Removed "Branch Protection (GitHub)" section from `website/CLAUDE.md` — branch protection is not available on the free GitHub plan, so the section was inaccurate (`8fc2961`)

### Branch sync
- Merged all changes from `develop` → `beta` → `main` and pushed all three branches
- All branches are now at commit `8fc2961` with CI passing

## Decisions made

- **No branch protection**: The repo is on a free GitHub plan, so branch protection rules can't be enforced. Removed the documented rules to avoid confusion. Direct merges and pushes are the workflow for now.
- **Husky + lint-staged for formatting**: Pre-commit hooks run Prettier and ESLint on staged files to catch formatting issues before they reach CI.

### GitHub Issues & Projects setup
- Refreshed `gh` CLI token with `project` scopes for GitHub Projects access
- Deleted 9 default labels, created 11 custom labels (6 phase labels + 5 type labels: `decision-needed`, `setup`, `feature`, `content`, `integration`)
- Created 6 milestones matching the build phases from `build-phases.md`
- Created 37 issues from unchecked items in `build-phases.md`, each assigned to its milestone and labeled by phase/type
- Created 5 `decision-needed` issues from `open-decisions.md` (Arctic API creds, payment processing, brand assets, content migration, reviews strategy)
- Created org-level GitHub Project board ("Holiday River Expeditions") with columns: Backlog, Up Next, In Progress, In Review, Done
- Added all 42 issues to the project board in the Backlog column
- Updated `build-phases.md` and `open-decisions.md` with callouts pointing to GitHub Issues and the project board

### Vercel setup (Phase 1)
- Created Vercel project with Git-based deploys from `main`, `beta`, and `develop` branches
- Configured beta subdomain (`beta.holidayriverexpeditions.com`) with custom domain on Vercel
- Added `vercel.json` with `X-Robots-Tag: noindex, nofollow` header for beta subdomain
- Added Sanity CDN remote image pattern to `next.config.ts`
- Created `.env.example` with placeholders for site URL, Sanity, and Arctic API vars
- Added `!.env.example` exception to `.gitignore` so the template is tracked
- Fixed beta branch reference in `environments.md` (`main` → `beta`)
- Checked off Vercel setup items in `build-phases.md`

### Documentation updates
- Resolved open decisions: domain (holidayriverexpeditions.com), brand assets, content migration, reviews strategy
- Updated `tech-stack.md`: Next.js 15 → 16, analytics plan (GA + Meta Pixel at launch, PostHog later)
- Updated `overview.md`: domain confirmed, analytics plan adjusted

## What's next

- Begin implementing actual site features (layout, components, Sanity schema)
- Contact Arctic Reservations for API credentials
- Set up Sanity project and initial schemas
- Design system / Tailwind theme configuration
- Triage the project board — move Phase 1 items and blocking decisions to "Up Next"

## Related

- [[2026-02-11-kickoff]] — Previous session kickoff notes
- [[tech-stack]] — Tech decisions
- [[open-decisions]] — Unresolved items
- [Project board](https://github.com/orgs/holiday-river-expeditions/projects/1) — GitHub Projects board
- [All issues](https://github.com/holiday-river-expeditions/website/issues) — GitHub Issues on website repo
